<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ë§ì¶¤í˜• ì»¨ì„¤íŒ… ë§ˆë²•ì‚¬</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* ì»¤ìŠ¤í…€ í°íŠ¸ ë° ì „ì²´ ìŠ¤íƒ€ì¼ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }

        /* ì§ˆë¬¸ ì»¨í…Œì´ë„ˆ ì• ë‹ˆë©”ì´ì…˜ */
        .question-container {
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }
        .question-enter {
            opacity: 0;
            transform: translateY(20px);
        }
        .question-exit {
            opacity: 0;
            transform: translateY(-20px);
        }
        
        /* ìŠ¤í”¼ë„ˆ ì• ë‹ˆë©”ì´ì…˜ */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid #3b82f6; /* blue-500 */
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-slate-900 text-white flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-3xl mx-auto">
        <!-- ì§„í–‰ë°” -->
        <div id="progress-bar-container" class="w-full h-2 bg-gray-800 rounded-full mb-8 overflow-hidden invisible">
            <div id="progress-bar" class="h-full bg-blue-500 rounded-full transition-all duration-500" style="width: 0%;"></div>
        </div>

        <!-- ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ -->
        <div id="wizard-content">
            <!-- ë™ì  ì»¨í…ì¸ ê°€ ì—¬ê¸°ì— ë Œë”ë§ë©ë‹ˆë‹¤. -->
        </div>

        <!-- ë’¤ë¡œê°€ê¸° ë²„íŠ¼ -->
        <div id="back-button-container" class="mt-8 text-left opacity-0 transition-opacity duration-500">
             <button id="back-button" class="text-slate-400 hover:text-white transition-colors"><i class="fas fa-arrow-left mr-2"></i>ë’¤ë¡œ ê°€ê¸°</button>
        </div>
    </div>

    <script>
    // --- 1. CORE DATA: ì˜ì‚¬ê²°ì • íŠ¸ë¦¬ ---
    // ëª¨ë“  ì§ˆë¬¸, ë‹µë³€, ê²°ê³¼ ë°ì´í„°ë¥¼ ì´ ê°ì²´ì— ì •ì˜í•©ë‹ˆë‹¤.
    // - type: 'question' ë˜ëŠ” 'result'
    // - title: ì§ˆë¬¸ ì œëª©
    // - answers: ì„ íƒ ê°€ëŠ¥í•œ ë‹µë³€ ë°°ì—´ (next: ë‹¤ìŒ ë‹¨ê³„ì˜ key)
    // - result data: ê²°ê³¼ í™”ë©´ì— í‘œì‹œë  ì •ë³´ (ì´ëª¨ì§€, ì´ë¦„, ì´ìœ , íƒœê·¸, ë§í¬)
    const flowLogic = {
        'start': {
            type: 'question',
            title: 'ë‹¹ì‹ ì—ê²Œ ë”± ë§ëŠ” AIë¥¼ ì°¾ì•„ë“œë¦½ë‹ˆë‹¤.',
            answers: [
                { text: 'âš¡ 3ì´ˆ ì»· (ê°„ë‹¨ ëª¨ë“œ)', next: 'q1', icon: 'fa-bolt' },
                { text: 'ğŸ§ ì •ë°€ ì§„ë‹¨ (ì‹¬í™” ëª¨ë“œ)', next: 'q1', icon: 'fa-search' },
            ]
        },
        'q1': {
            type: 'question',
            title: 'ê°€ì¥ ê´€ì‹¬ ìˆëŠ” ë¶„ì•¼ëŠ” ë¬´ì—‡ì¸ê°€ìš”?',
            answers: [
                { text: 'âœï¸ ê¸€ì“°ê¸°/ë¬¸ì„œ ì‘ì—…', next: 'q2_text' },
                { text: 'ğŸ¨ ì´ë¯¸ì§€/ë””ìì¸', next: 'q2_image' },
                { text: 'ğŸ¬ ì˜ìƒ/ì˜¤ë””ì˜¤', next: 'q2_video' },
                { text: 'âš¡ ì—…ë¬´ ìë™í™”', next: 'q2_work' },
            ]
        },
        // --- 2-1. ê¸€ì“°ê¸° ë¶„ê¸° ---
        'q2_text': {
            type: 'question',
            title: 'ê¸€ì“°ê¸°ì˜ êµ¬ì²´ì ì¸ ëª©ì ì€ ë¬´ì—‡ì¸ê°€ìš”?',
            answers: [
                { text: 'ë¸”ë¡œê·¸/ë§ˆì¼€íŒ… ì½˜í…ì¸  (í•œêµ­ì–´)', next: 'result_wrtn' },
                { text: 'ë…¼ë¬¸/ê¸´ ë³´ê³ ì„œ ìš”ì•½ ë° ë¶„ì„', next: 'result_claude' },
                { text: 'ì½”ë”©/ê°œë°œ ì‘ì—… ë³´ì¡°', next: 'result_cursor' },
                { text: 'ì˜ì–´ ì´ë©”ì¼ ì‘ì„± ë° ë²ˆì—­', next: 'result_deepl_chatgpt' },
            ]
        },
        'result_wrtn': {
            type: 'result',
            emoji: 'ğŸ‡°ğŸ‡·',
            name: 'ë¤¼íŠ¼ (Wrtn)',
            reason: 'í•œêµ­ì–´ ë‰˜ì•™ìŠ¤ê°€ ê°€ì¥ ìì—°ìŠ¤ëŸ½ê³ , ê¸€ì“°ê¸°ì— íŠ¹í™”ëœ ë‹¤ì–‘í•œ íˆ´ì„ ì œê³µí•©ë‹ˆë‹¤. íŠ¹íˆ ë¬´ë£Œë¡œ GPT-4 ëª¨ë¸ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ í° ì¥ì ì…ë‹ˆë‹¤.',
            tags: ['#í•œêµ­ì–´ íŠ¹í™”', '#ë¬´ë£Œ GPT-4', '#ë§ˆì¼€íŒ…', '#ë¸”ë¡œê·¸'],
            link: 'https://wrtn.ai/'
        },
        'result_claude': {
            type: 'result',
            emoji: 'ğŸ“„',
            name: 'Claude 3',
            reason: 'ìˆ˜ë°± í˜ì´ì§€ì— ë‹¬í•˜ëŠ” ê¸´ ë¬¸ì„œë¥¼ í•œ ë²ˆì— ì²˜ë¦¬í•˜ê³ , í•µì‹¬ ë‚´ìš©ì„ ì •í™•í•˜ê²Œ ìš”ì•½ ë° ë¶„ì„í•˜ëŠ” ëŠ¥ë ¥ì´ í˜„ì¡´ AI ì¤‘ ê°€ì¥ ë›°ì–´ë‚©ë‹ˆë‹¤.',
            tags: ['#ë…¼ë¬¸ ë¶„ì„', '#ê¸´ ê¸€ ìš”ì•½', '#ë¦¬ì„œì¹˜', '#PDF'],
            link: 'https://claude.ai/'
        },
        'result_cursor': {
            type: 'result',
            emoji: 'ğŸ’»',
            name: 'Cursor',
            reason: 'VS Codeë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ ê¸°ì¡´ ê°œë°œ í™˜ê²½ê³¼ ìœ ì‚¬í•˜ë©°, ì½”ë“œë² ì´ìŠ¤ ì „ì²´ë¥¼ ì´í•´í•˜ê³  ì§ˆë¬¸ì— ë‹µí•´ì£¼ëŠ” ê¸°ëŠ¥ì´ ë§¤ìš° ê°•ë ¥í•©ë‹ˆë‹¤.',
            tags: ['#ì½”ë”©', '#ê°œë°œ', '#AI-IDE', '#ì½”ë“œë¶„ì„'],
            link: 'https://cursor.sh/'
        },
        'result_deepl_chatgpt': {
            type: 'result',
            emoji: 'ğŸ§ ',
            name: 'DeepL + ChatGPT',
            reason: 'DeepLë¡œ 1ì°¨ ë²ˆì—­í•˜ì—¬ ì •í™•ë„ë¥¼ ë†’ì´ê³ , ChatGPTë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ìƒí™©ì— ë§ëŠ” í†¤ì•¤ë§¤ë„ˆì™€ ì •ì¤‘í•œ í‘œí˜„ì„ ë‹¤ë“¬ëŠ” ì¡°í•©ì„ ì¶”ì²œí•©ë‹ˆë‹¤.',
            tags: ['#ì˜ì–´ ì´ë©”ì¼', '#ë²ˆì—­', '#ë¹„ì¦ˆë‹ˆìŠ¤', '#ì‘ë¬¸'],
            link: 'https://www.deepl.com/translator'
        },
        // --- 2-2. ì´ë¯¸ì§€ ë¶„ê¸° ---
        'q2_image': {
            type: 'question',
            title: 'ì–´ë–¤ ìŠ¤íƒ€ì¼ì˜ ì´ë¯¸ì§€ë¥¼ ì›í•˜ì‹œë‚˜ìš”?',
            answers: [
                { text: 'ì‹¤ì‚¬/ì˜ˆìˆ ì ì¸ ê³ í€„ë¦¬í‹° ì´ë¯¸ì§€', next: 'result_midjourney' },
                { text: 'ë°œí‘œìë£Œ(PPT) ìë™ ìƒì„±', next: 'result_gamma' },
                { text: 'ë¡œê³ /ì•„ì´ì½˜ ë“± ë²¡í„° ê·¸ë˜í”½', next: 'result_recraft' },
            ]
        },
        'result_midjourney': {
            type: 'result',
            emoji: 'ğŸ¨',
            name: 'Midjourney',
            reason: 'í˜„ì¡´í•˜ëŠ” ì´ë¯¸ì§€ ìƒì„± AI ì¤‘ ê°€ì¥ ì˜ˆìˆ ì ì´ê³  ë””í…Œì¼í•œ í‘œí˜„ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤. íŠ¹íˆ ì¸ë¬¼ê³¼ í’ê²½ ë¬˜ì‚¬ì—ì„œ ì••ë„ì ì¸ í€„ë¦¬í‹°ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.',
            tags: ['#ê³ í€„ë¦¬í‹°', '#ì‹¤ì‚¬', '#ì˜ˆìˆ ', '#ë””ìŠ¤ì½”ë“œ'],
            link: 'https://www.midjourney.com/'
        },
        'result_gamma': {
            type: 'result',
            emoji: 'ğŸ“Š',
            name: 'Gamma',
            reason: 'ë‹¨ ëª‡ ê°œì˜ í‚¤ì›Œë“œë‚˜ ì£¼ì œë§Œ ì…ë ¥í•˜ë©´ AIê°€ ì „ì²´ êµ¬ì¡°, í…ìŠ¤íŠ¸, ì´ë¯¸ì§€ê¹Œì§€ í¬í•¨ëœ ì™„ì„±ë„ ë†’ì€ í”„ë ˆì  í…Œì´ì…˜ì„ ìë™ìœ¼ë¡œ ë””ìì¸í•´ì¤ë‹ˆë‹¤.',
            tags: ['#PPT', '#ë°œí‘œìë£Œ', '#ìë™ìƒì„±', '#ë””ìì¸'],
            link: 'https://gamma.app/'
        },
        'result_recraft': {
            type: 'result',
            emoji: 'âœ’ï¸',
            name: 'Recraft',
            reason: 'ë¡œê³ , ì•„ì´ì½˜ ë“±ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ "ë²¡í„°(SVG) íŒŒì¼"ë¡œ ê²°ê³¼ë¬¼ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. AIë¡œ ë§Œë“  ì´ë¯¸ì§€ë¥¼ ê¹¨ì§ ì—†ì´ í¸ì§‘í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            tags: ['#ë¡œê³ ', '#ë²¡í„°', '#SVG', '#ë””ìì¸ ì‹œìŠ¤í…œ'],
            link: 'https://www.recraft.ai/'
        },
        // --- 2-3. ì˜ìƒ/ì˜¤ë””ì˜¤ ë¶„ê¸° ---
        'q2_video': {
            type: 'question',
            title: 'ì–´ë–¤ ì˜ìƒ/ì˜¤ë””ì˜¤ ì‘ì—…ì„ í•˜ì‹œë‚˜ìš”?',
            answers: [
                { text: 'í…ìŠ¤íŠ¸ë‚˜ ì´ë¯¸ì§€ë¡œ ì˜ìƒ ìƒì„±', next: 'result_runway' },
                { text: 'ê¸´ ì˜ìƒì—ì„œ ìœ íŠœë¸Œ ì‡¼ì¸  ìë™ í¸ì§‘', next: 'result_opus' },
            ]
        },
        'result_runway': {
            type: 'result',
            emoji: 'ğŸ¥',
            name: 'Runway Gen-2',
            reason: 'í…ìŠ¤íŠ¸ í”„ë¡¬í”„íŠ¸ë‚˜ ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì§§ì€ ë™ì˜ìƒì„ ìƒì„±í•˜ëŠ” Text-to-Video ê¸°ìˆ ì˜ ì„ ë‘ì£¼ìì…ë‹ˆë‹¤. ì‹¤í—˜ì ì¸ ì˜ìƒ ì œì‘ì— ì í•©í•©ë‹ˆë‹¤.',
            tags: ['#Text-to-Video', '#ì˜ìƒìƒì„±', '#AI ì˜ìƒ'],
            link: 'https://runwayml.com/'
        },
        'result_opus': {
            type: 'result',
            emoji: 'âœ‚ï¸',
            name: 'Opus Clip',
            reason: 'ê¸´ ê°•ì—°ì´ë‚˜ íŒŸìºìŠ¤íŠ¸ ì˜ìƒ ë§í¬ë¥¼ ë„£ìœ¼ë©´, AIê°€ ìë™ìœ¼ë¡œ í•µì‹¬ ë‚´ìš©ì„ íŒŒì•…í•´ ì—¬ëŸ¬ ê°œì˜ ë°”ì´ëŸ´ ì‡¼ì¸  í´ë¦½ì„ ìë™ í¸ì§‘ ë° ìƒì„±í•´ì¤ë‹ˆë‹¤.',
            tags: ['#ìœ íŠœë¸Œ ì‡¼ì¸ ', '#ìë™í¸ì§‘', '#ì˜ìƒí¸ì§‘', '#ë¦¬í¼'],
            link: 'https://www.opus.pro/'
        },
        // --- 2-4. ì—…ë¬´ ìë™í™” ë¶„ê¸° ---
        'q2_work': {
            type: 'question',
            title: 'ì–´ë–¤ ì—…ë¬´ë¥¼ ìë™í™”í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?',
            answers: [
                { text: 'ì˜¨/ì˜¤í”„ë¼ì¸ íšŒì˜ ë…¹ìŒ ë° ìš”ì•½', next: 'result_daglo' },
                { text: 'ë°˜ë³µì ì¸ ì•±(App) ì—°ë™ ì‘ì—…', next: 'result_zapier' },
            ]
        },
        'result_daglo': {
            type: 'result',
            emoji: 'ğŸ™ï¸',
            name: 'Daglo(ë‹¤ê¸€ë¡œ) or Clova Note',
            reason: 'êµ­ë‚´ ì„œë¹„ìŠ¤ë¡œ í•œêµ­ì–´ ìŒì„± ì¸ì‹ë¥ ì´ ë§¤ìš° ë†’ê³ , íšŒì˜ë¡ì— í•„ìˆ˜ì ì¸ "í™”ì ë¶„ë¦¬" ê¸°ëŠ¥ì´ íƒì›”í•˜ì—¬ ëˆ„ê°€ ì–´ë–¤ ë§ì„ í–ˆëŠ”ì§€ ì •ë¦¬í•˜ê¸° í¸í•©ë‹ˆë‹¤.',
            tags: ['#íšŒì˜ë¡', '#ìŒì„±ì¸ì‹', '#STT', '#ë°›ì•„ì“°ê¸°'],
            link: 'https://daglo.ai/'
        },
        'result_zapier': {
            type: 'result',
            emoji: 'ğŸ”—',
            name: 'Zapier',
            reason: 'ì½”ë”© ì—†ì´ "Aì•±ì—ì„œ B ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´, Cì•±ì—ì„œ D ì‘ì—…ì„ ì‹¤í–‰í•´ì¤˜" ì™€ ê°™ì€ ìë™í™” ì›Œí¬í”Œë¡œìš°ë¥¼ ìˆ˜ì²œê°œì˜ ì•±ê³¼ ì—°ë™í•˜ì—¬ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
            tags: ['#ì—…ë¬´ìë™í™”', '#NoCode', '#APIì—°ë™', '#ìƒì‚°ì„±'],
            link: 'https://zapier.com/'
        }
    };
    
    // --- 2. STATE MANAGEMENT ---
    // ì•±ì˜ í˜„ì¬ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
    let currentStepId = 'start'; // í˜„ì¬ ë³´ì—¬ì£¼ëŠ” ì§ˆë¬¸/ê²°ê³¼ì˜ ID
    let history = []; // ì‚¬ìš©ìê°€ ê±°ì³ì˜¨ ê²½ë¡œë¥¼ ì €ì¥ (ë’¤ë¡œê°€ê¸° ê¸°ëŠ¥ìš©)
    const MAX_DEPTH = 3; // ê°€ì¥ ê¹Šì€ ì§ˆë¬¸ì˜ ê¹Šì´ (ì‹œì‘:0, Q1:1, Q2:2, ê²°ê³¼:3)

    // --- 3. DOM ELEMENTS ---
    // ìì£¼ ì‚¬ìš©í•˜ëŠ” HTML ìš”ì†Œë¥¼ ë³€ìˆ˜ì— í• ë‹¹í•©ë‹ˆë‹¤.
    const wizardContent = document.getElementById('wizard-content');
    const progressBar = document.getElementById('progress-bar');
    const progressBarContainer = document.getElementById('progress-bar-container');
    const backButton = document.getElementById('back-button');
    const backButtonContainer = document.getElementById('back-button-container');

    // --- 4. RENDERING LOGIC ---

    /**
     * íŠ¹ì • ë‹¨ê³„(ì§ˆë¬¸ ë˜ëŠ” ê²°ê³¼)ë¥¼ í™”ë©´ì— ë Œë”ë§í•˜ëŠ” ë©”ì¸ í•¨ìˆ˜
     * @param {string} stepId - flowLogic ê°ì²´ì˜ í‚¤
     */
    function renderStep(stepId) {
        const stepData = flowLogic[stepId];
        if (!stepData) return;

        // í™”ë©´ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ (Fade out)
        wizardContent.classList.add('question-exit');

        setTimeout(() => {
            wizardContent.innerHTML = ''; // ì´ì „ ë‚´ìš© ì§€ìš°ê¸°
            wizardContent.classList.remove('question-exit');
            wizardContent.classList.add('question-enter');

            if (stepData.type === 'question') {
                renderQuestion(stepId, stepData);
            } else if (stepData.type === 'result') {
                renderLoadingAndResult(stepData);
            }
            
            // Fade in
            setTimeout(() => wizardContent.classList.remove('question-enter'), 50);

            updateProgressBar();
            updateBackButtonVisibility();
        }, 500);
    }
    
    /**
     * ì§ˆë¬¸ UIë¥¼ ìƒì„±í•˜ê³  í™”ë©´ì— í‘œì‹œ
     * @param {string} stepId - í˜„ì¬ ì§ˆë¬¸ ID
     * @param {object} data - í˜„ì¬ ì§ˆë¬¸ ë°ì´í„°
     */
    function renderQuestion(stepId, data) {
        // íƒ€ì´í‹€ ìƒì„±
        const title = document.createElement('h1');
        title.className = 'text-3xl md:text-4xl font-bold text-center mb-12';
        title.textContent = data.title;
        wizardContent.appendChild(title);

        // ë‹µë³€ ë²„íŠ¼ ëª©ë¡ ìƒì„±
        const answersContainer = document.createElement('div');
        answersContainer.className = 'grid grid-cols-1 md:grid-cols-2 gap-4 max-w-xl mx-auto';
        
        data.answers.forEach((answer, index) => {
            const button = document.createElement('button');
            button.className = 'p-4 border-2 border-slate-700 rounded-lg text-left hover:bg-slate-800 hover:border-blue-500 transition-all duration-200 text-lg flex items-center';
            
            let iconHtml = '';
            if (answer.icon) {
                iconHtml = `<i class="fas ${answer.icon} w-6 text-center mr-3 text-blue-400"></i>`;
            }

            button.innerHTML = `${iconHtml} <span class="flex-1">${answer.text}</span> <span class="text-slate-500 ml-2">[${index + 1}]</span>`;
            
            button.onclick = () => handleAnswer(stepId, answer.next);
            answersContainer.appendChild(button);
        });
        wizardContent.appendChild(answersContainer);
    }
    
    /**
     * ë¡œë”© í™”ë©´ì„ ì ì‹œ ë³´ì—¬ì¤€ í›„, ìµœì¢… ê²°ê³¼ í™”ë©´ì„ ë Œë”ë§
     * @param {object} data - ìµœì¢… ê²°ê³¼ ë°ì´í„°
     */
    function renderLoadingAndResult(data) {
        // ë¡œë”© í™”ë©´ UI
        wizardContent.innerHTML = `
            <div class="flex flex-col items-center justify-center text-center h-48">
                <div class="spinner"></div>
                <p class="mt-4 text-xl font-medium text-slate-300">ğŸ” AIê°€ ë‹µë³€ì„ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...</p>
            </div>
        `;

        // 1.5ì´ˆ í›„ ê²°ê³¼ í‘œì‹œ
        setTimeout(() => {
            renderResult(data);
        }, 1500);
    }

    /**
     * ìµœì¢… ê²°ê³¼ UIë¥¼ ìƒì„±í•˜ê³  í™”ë©´ì— í‘œì‹œ
     * @param {object} data - ìµœì¢… ê²°ê³¼ ë°ì´í„°
     */
    function renderResult(data) {
        wizardContent.innerHTML = `
            <div class="text-center question-container question-enter">
                <p class="text-slate-400 mb-4">ë‹¹ì‹ ì„ ìœ„í•œ ìµœì ì˜ AIëŠ”...</p>
                <h1 class="text-5xl md:text-6xl font-bold mb-4">${data.emoji} ${data.name}</h1>
                
                <div class="my-8 bg-slate-800 p-6 rounded-lg text-left max-w-2xl mx-auto">
                    <p class="text-lg text-slate-200">${data.reason}</p>
                </div>

                <div class="flex justify-center gap-2 mb-10">
                    ${data.tags.map(tag => `<span class="bg-blue-900/50 text-blue-300 text-sm font-medium px-3 py-1 rounded-full">${tag}</span>`).join('')}
                </div>

                <div class="flex flex-col md:flex-row justify-center items-center gap-4">
                    <a href="${data.link}" target="_blank" class="w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-colors text-lg">
                        ğŸš€ ë°”ë¡œ ì‚¬ìš©í•´ë³´ê¸°
                    </a>
                    <button id="restart-button" class="w-full md:w-auto bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 px-8 rounded-lg transition-colors">
                        ğŸ”„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•˜ê¸°
                    </button>
                    <a href="index.html" class="w-full md:w-auto text-slate-400 hover:text-white py-3 px-6 rounded-lg transition-colors">
                        ğŸ  ë©”ì¸ìœ¼ë¡œ
                    </a>
                </div>
            </div>
        `;
        // Fade-in ì• ë‹ˆë©”ì´ì…˜
        setTimeout(() => wizardContent.querySelector('.question-container').classList.remove('question-enter'), 50);
        
        // ìƒˆë¡œ ìƒê¸´ 'ë‹¤ì‹œí•˜ê¸°' ë²„íŠ¼ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        document.getElementById('restart-button').onclick = handleRestart;
    }


    // --- 5. UI UPDATE & EVENT HANDLERS ---
    
    /**
     * ë‹µë³€ ë²„íŠ¼ í´ë¦­ ì‹œ í˜¸ì¶œë˜ëŠ” í•¸ë“¤ëŸ¬
     * @param {string} fromStepId - ì´ì „ ë‹¨ê³„ ID
     * @param {string} toStepId - ë‹¤ìŒ ë‹¨ê³„ ID
     */
    function handleAnswer(fromStepId, toStepId) {
        history.push(fromStepId);
        currentStepId = toStepId;
        renderStep(currentStepId);
    }

    /**
     * 'ë’¤ë¡œ ê°€ê¸°' ë²„íŠ¼ í´ë¦­ ì‹œ í˜¸ì¶œ
     */
    function handleBack() {
        if (history.length > 0) {
            currentStepId = history.pop();
            renderStep(currentStepId);
        }
    }
    
    /**
     * 'ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•˜ê¸°' ë²„íŠ¼ í´ë¦­ ì‹œ í˜¸ì¶œ
     */
    function handleRestart() {
        history = [];
        currentStepId = 'start';
        renderStep(currentStepId);
    }
    
    /**
     * ì§„í–‰ ìƒíƒœì— ë”°ë¼ ìƒë‹¨ ì§„í–‰ë°” ë„ˆë¹„ ì—…ë°ì´íŠ¸
     */
    function updateProgressBar() {
        const stepData = flowLogic[currentStepId];
        let progress = 0;
        
        if (history.length === 0 && currentStepId === 'start') {
            progress = 0;
            progressBarContainer.classList.add('invisible');
        } else {
            progressBarContainer.classList.remove('invisible');
            if (stepData.type === 'result') {
                progress = 100;
            } else {
                // í˜„ì¬ depth / ìµœëŒ€ depth
                progress = Math.max(0, (history.length / MAX_DEPTH) * 100);
            }
        }
        progressBar.style.width = `${progress}%`;
    }

    /**
     * ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì˜ í‘œì‹œ ì—¬ë¶€ ì—…ë°ì´íŠ¸
     */
    function updateBackButtonVisibility() {
        if (history.length > 0) {
            backButtonContainer.classList.remove('opacity-0');
        } else {
            backButtonContainer.classList.add('opacity-0');
        }
    }
    
    /**
     * í‚¤ë³´ë“œ ìˆ«ì í‚¤ ì…ë ¥ ì²˜ë¦¬
     */
    function handleKeyPress(e) {
        const stepData = flowLogic[currentStepId];
        if (stepData && stepData.type === 'question') {
            const key = parseInt(e.key);
            if (!isNaN(key) && key > 0 && key <= stepData.answers.length) {
                const answer = stepData.answers[key - 1];
                handleAnswer(currentStepId, answer.next);
            }
        }
    }

    // --- 6. INITIALIZATION ---
    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ê³  ì•±ì„ ì‹œì‘í•©ë‹ˆë‹¤.
    document.addEventListener('DOMContentLoaded', () => {
        backButton.addEventListener('click', handleBack);
        document.addEventListener('keydown', handleKeyPress);
        renderStep(currentStepId); // ì²« í™”ë©´ ë Œë”ë§
    });

    </script>
</body>
</html>
